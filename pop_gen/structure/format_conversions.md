if desired can make "ind_file" for structure_threader. This is an ordred list of sample names in column 1 with state names (populations) in column 2. Note that this ONLY rearranges the output plots from str_th. In order to use LOCRPRIOR or POPPRIOR we need to add the loc info to the input file as an integer (and change the mainparams and extraparams accordingly
 However, to start we are not using this info and just using the most basic format of a matrix of genotypes
```
make_ind_file_structure.r
```
format conversion
```
structure_format.r
```
upload the structure formatted snp file to server in their respective dirs, Nf_SPANDx_all_seqs_structure_th and Nd_SPANDx_all_seqs_structure_th
 The ind_files are in the repo
```
module purge
module load linuxbrew/colsa
cd Nf_SPANDx_all_seqs_structure_th
cp ~/repo/neonectria_SNP/pop_gen/structure/Nf_ind_file.structure ./ind_file.structure
```

### Running structure_threader
First generate the params files
```
mkdir Nf_SPANDx_all_seqs_structure_th
cd Nf_SPANDx_all_seqs_structure_th
module purge
module load anaconda/colsa
export PATH=~/.local/bin:$PATH

structure_threader params -o ~/Nf_SPANDx_all_seqs_structure_th/
```
Download the params file to edit and retain a local copy if desired. The default parameters generated by structure_threader in `extraparams` are satisfactory.
#### Edits to `mainparams`
- set
- PLOIDY to 1
- NUMINDS 115 
- NUMLOCI 188237 
- MISSING -9
- LABEL 1
- POPDATA 0
- MAXPOPS 15 #although this is set by -K on the command line

Run structure_threader (started at 8/1/24 4:30p)
```
cd ~/Nf_SPANDx_all_seqs_structure_th/
sbatch ~/repo/neonectria_SNP/pop_gen/structure/Nf_structure_threader.slurm 
```

Repeat for Nd
```
mkdir Nd_SPANDx_all_seqs_structure_th
cd Nd_SPANDx_all_seqs_structure_th
module purge
module load anaconda/colsa
export PATH=~/.local/bin:$PATH

structure_threader params -o ~/Nd_SPANDx_all_seqs_structure_th/
```
#### Edits to `mainparams`
- set
- INFILE FINAL_snp.structure
- OUTFILE  FINAL_snp.structure.out
- PLOIDY to 1
- NUMINDS 30 #after filtering out seuqncing reps and high missing data
- NUMLOCI 81334 #SNPs remaining after pgspider
- MISSING -9
- LABEL 1
- POPDATA 0
- MAXPOPS 15 #although this is set by -K on the command line

Run structure_threader (started at 8/1/24 4:30p)
```
cd ~/Nd_SPANDx_all_seqs_structure_th/
sbatch ~/repo/neonectria_SNP/pop_gen/structure/Nd_structure_threader.slurm 
```

Repeat for Nc
```
mkdir Nc_SPANDx_all_seqs_structure_th
cd Nc_SPANDx_all_seqs_structure_th
module purge
module load anaconda/colsa
export PATH=~/.local/bin:$PATH

structure_threader params -o ~/Nc_SPANDx_all_seqs_structure_th/
```
#### Edits to `mainparams`
- set
- INFILE FINAL_snp.structure
- OUTFILE  FINAL_snp.structure.out
- PLOIDY to 1
- NUMINDS 5 #after filtering out seuqncing reps and high missing data
- NUMLOCI 2210 #SNPs remaining after pgspider
- MISSING -9
- LABEL 1
- POPDATA 0
- MAXPOPS 4 #although this is set by -K on the command line

Run structure_threader (started at 8/19/24 1:55p)
```
cd ~/Nc_SPANDx_all_seqs_structure_th/
sbatch ~/repo/neonectria_SNP/pop_gen/structure/Nc_structure_threader.slurm 
```

